Project Summary
The Corporate Expense Tracker is a cloud-based web application designed to streamline expense management for organizations in India. It automates user authentication, tracks expenses, and manages approval workflows to improve operational efficiency. The platform features interactive dashboards with detailed analytics on expenses in Indian Rupees. Built with a modern tech stack, including React and TypeScript for the frontend, and Node.js, Express.js, and Supabase for the backend, it ensures a seamless user experience with real-time data integration.

Project Module Description
Authentication System: Utilizes Supabase for user login, registration, and password resets, employing a hybrid authentication approach.
Dashboard: Displays role-specific expense statistics and management metrics with interactive charts.
Expense Management: Allows users to create, edit, submit, and track expenses, including file uploads, with role-based access.
Approval Workflow: Enables managers to approve or reject expenses and provide feedback.
Team Management: Admins can manage team members and their roles, ensuring department-specific access.
Profile Management: Users can update their profiles and passwords.
Role-based Access: Ensures secure data access through different permissions for roles.
User Registration: Facilitates new user registration with department and role selection.
Debug Page: A tool for troubleshooting team visibility issues.
Protected Routes: Secures access to specific pages based on user roles.
Reports Page: Provides interactive charts and analytics for expense reports.
Settings Page: Users manage their account settings and preferences.
User Import Functionality: Feature to import users from Supabase is under development.
Team Members Page: Displays real-time data about team members, now with improved role-based access control.
Expense Routes: Routes for viewing, creating, and editing expenses.
Role Utilities: Comprehensive role permission system with hierarchy levels and permission checks.

Directory Tree
shadcn-ui/
├── README.md                   # Project overview and documentation
├── components.json             # Component configuration
├── eslint.config.js            # ESLint configuration for the project
├── index.html                  # Main HTML file
├── package.json                # Frontend dependencies and scripts
├── postcss.config.js           # PostCSS configuration
├── public/                     # Public assets directory
│   ├── favicon.svg             # Application favicon
│   └── robots.txt              # Robots.txt for SEO
├── server/                     # Backend server directory
│   ├── eslint.config.js        # ESLint configuration for the server
│   ├── middleware/             # Middleware functions
│   ├── models/                 # Database models
│   ├── routes/                 # API routes
│   ├── scripts/                # Scripts for database seeding
│   └── server.js               # Main server file
├── src/                        # Source code for the frontend
│   ├── components/             # UI components
│   ├── contexts/               # React context providers
│   ├── hooks/                  # Custom hooks
│   ├── pages/                  # Application pages
│   ├── lib/                    # Utility functions and API calls
│   ├── App.css                 # Global styles
│   ├── App.tsx                 # Main application component
│   ├── debug.html              # Debug page for checking localStorage data
│   └── index.css               # CSS styles for the application
├── tailwind.config.ts          # Tailwind CSS configuration
├── template_config.json        # Template configuration file
├── todo.md                     # TODO list for future improvements
├── tsconfig.*                  # TypeScript configuration files
└── vite.config.ts              # Vite configuration for the application

File Description Inventory
README.md: Documentation for project setup and usage.
package.json: Lists dependencies and scripts for the frontend, including @supabase/supabase-js and recharts.
server.js: Entry point for the backend server.
models/: Contains database schema definitions.
routes/: Defines API endpoints for the application.
components/: Reusable UI components for the frontend.
pages/: Main application views and pages.
lib/: Contains utility functions and API calls, including enhanced Supabase integration and role utilities.
contexts/: Provides context for managing authentication and expense state.
debug.html: Page for debugging visibility issues with team members.
src/lib/supabase.ts: Updated Supabase client setup with hybrid authentication and real user data handling.
src/contexts/ExpenseContext.tsx: Manages expense state and operations with role-based filtering.
src/pages/Dashboard.tsx: Dashboard displaying enhanced expense statistics with interactive charts tailored to user roles.
src/pages/Reports.tsx: Reports page with interactive charts and analytics.
src/pages/Settings.tsx: Settings page for managing user preferences.
src/pages/Index.tsx: Redirects users to the dashboard.
src/pages/auth/Login.tsx: Enhanced login and registration functionality with validation and error handling.
src/pages/team/TeamMembers.tsx: Updated to properly restrict user visibility and management based on department.
src/components/ui/date-range-picker.tsx: Date range picker component for filtering reports.
src/components/ProtectedRoute.tsx: Manages access control for protected routes with logging for debugging.
src/lib/roleUtils.ts: New role utilities for managing role-based access and permissions.
src/lib/expenseService.ts: New service for role-based expense filtering and statistics generation.

Technology Stack
Frontend: React, TypeScript, Tailwind CSS, Vite, Recharts
Backend: Node.js, Express.js, Supabase
Authentication: Supabase Auth integration featuring a hybrid system with local storage fallback.
Data Persistence: User data is stored in Supabase Cloud, ensuring persistent storage with Row Level Security (RLS) policies for secure access.

Usage
To set up the project, follow these steps:

Install dependencies using your package manager.
Build the application using the build command.
Run the application.